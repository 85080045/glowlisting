# å›¾ç‰‡å¤„ç†å¤±è´¥ - è°ƒè¯•æŒ‡å—

## å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ

### 1. æ£€æŸ¥åç«¯æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
```bash
cd server
npm run dev
```
ç¡®ä¿çœ‹åˆ°ï¼š`ğŸš€ Pholistingâ„¢ API æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3001`

### 2. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
- å½“å‰ä½¿ç”¨çš„ API Key: `AIzaSyCRSRCLsmrqXlTaAoRRlF6a6FQxzJ3oYxo`
- å¦‚æœ API Key æ— æ•ˆï¼Œä¼šåœ¨åç«¯æ—¥å¿—ä¸­çœ‹åˆ° 401 æˆ– 403 é”™è¯¯

### 3. æ£€æŸ¥ API ç«¯ç‚¹æ˜¯å¦æ­£ç¡®
- å½“å‰ç«¯ç‚¹: `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent`
- å¦‚æœç«¯ç‚¹ä¸æ­£ç¡®ï¼Œä¼šåœ¨åç«¯æ—¥å¿—ä¸­çœ‹åˆ° 404 é”™è¯¯

### 4. æŸ¥çœ‹åç«¯æ—¥å¿—
ä¸Šä¼ å›¾ç‰‡æ—¶ï¼Œåç«¯ä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼š
- `Calling nanobanna API for image enhancement...`
- `Sending request to: ...`
- `API Response status: ...`
- `API Response structure: ...`

å¦‚æœå‡ºç°é”™è¯¯ï¼Œä¼šæ˜¾ç¤ºï¼š
- `nanobanna API error: ...`
- `Error details: ...`
- `Error status: ...`

### 5. å¸¸è§é”™è¯¯

#### é”™è¯¯ 1: API Key æ— æ•ˆ
**ç—‡çŠ¶**: 401 Unauthorized
**è§£å†³**: æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦æœ‰æƒé™è®¿é—® Gemini API

#### é”™è¯¯ 2: æ¨¡å‹ä¸å­˜åœ¨
**ç—‡çŠ¶**: 404 Not Found
**è§£å†³**: æ£€æŸ¥æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨å…¶ä»–æ¨¡å‹ï¼š
- `gemini-1.5-pro`
- `gemini-1.5-flash`
- `gemini-2.0-flash-exp`

#### é”™è¯¯ 3: è¯·æ±‚æ ¼å¼é”™è¯¯
**ç—‡çŠ¶**: 400 Bad Request
**è§£å†³**: æ£€æŸ¥è¯·æ±‚ä½“æ ¼å¼ï¼Œç¡®ä¿ï¼š
- `mimeType` æ­£ç¡®ï¼ˆimage/jpeg, image/png ç­‰ï¼‰
- `base64Image` æ•°æ®å®Œæ•´
- `prompt` æ ¼å¼æ­£ç¡®

#### é”™è¯¯ 4: å“åº”ä¸­æœªæ‰¾åˆ°å›¾åƒæ•°æ®
**ç—‡çŠ¶**: "API å“åº”ä¸­æœªæ‰¾åˆ°å›¾åƒæ•°æ®"
**è§£å†³**: 
- æ£€æŸ¥ API å“åº”ç»“æ„
- å¯èƒ½éœ€è¦è°ƒæ•´å“åº”è§£æé€»è¾‘
- æ£€æŸ¥æ¨¡å‹æ˜¯å¦æ”¯æŒå›¾åƒç”Ÿæˆ

### 6. æµ‹è¯• API è¿æ¥

å¯ä»¥ä½¿ç”¨ curl æµ‹è¯• APIï¼š

```bash
curl -X POST \
  "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contents": [{
      "parts": [{
        "text": "Generate an image of a house"
      }]
    }],
    "generationConfig": {
      "responseModalities": ["IMAGE"]
    }
  }'
```

### 7. æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®ä¿æœåŠ¡å™¨å¯ä»¥è®¿é—® Google API
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æ£€æŸ¥ä»£ç†è®¾ç½®

### 8. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°
æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼ŒæŸ¥çœ‹ï¼š
- Network æ ‡ç­¾ï¼šæ£€æŸ¥ API è¯·æ±‚å’Œå“åº”
- Console æ ‡ç­¾ï¼šæŸ¥çœ‹å‰ç«¯é”™è¯¯ä¿¡æ¯

## ä¸‹ä¸€æ­¥

1. å¯åŠ¨åç«¯æœåŠ¡å™¨å¹¶æŸ¥çœ‹æ—¥å¿—
2. å°è¯•ä¸Šä¼ å›¾ç‰‡
3. å°†åç«¯æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯å‘é€ç»™æˆ‘ï¼Œæˆ‘å¯ä»¥å¸®æ‚¨è¿›ä¸€æ­¥è¯Šæ–­é—®é¢˜


